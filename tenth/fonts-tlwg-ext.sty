%% font-tenth.sty
%% Copyright 2017 Abhabongse Janthong
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% This work has the LPPL maintenance status `maintained'.
% The Current Maintainer of this work is Abhabongse Janthong.
% This work consists of all files in the repository, including
% thaienum.sty and thaienum.tex.
%
% This package simplifies the font familiy switching for babel-thai
% and acts as a replacement of fonts-tlwg.
%
\ProvidesPackage{font-tenth}[2017/09/11 v0.1]
\RequirePackage{etoolbox}

%%------------------------------------------------------------------
%%  Expectes 'babel-thai' to be loaded.
%%------------------------------------------------------------------
\@ifpackageloaded{babel}{}{%
\PackageError{thaienum}{Package 'babel' not loaded before 'thaienum' %
(please load 'babel' package before 'thaienum')}%
{Please load 'babel' package before 'thaienum'}%
}
\@ifpackagewith{babel}{thai}{}{%
\PackageWarning{thaienum}{Package 'babel' not loaded with option 'thai' %
(please load 'babel' package with option 'thai')}%
}

%%------------------------------------------------------------------
%%  Package options.
%%------------------------------------------------------------------
% Set whether to reset letterform upon language switching. If set,
% then \letterformdefault@en and \letterformdefault@th will be ignored.
\newbool{fonttenth@letterformreset}
\DeclareOption{resetletterform}{\booltrue{fonttenth@letterformreset}}
\ProcessOptions\relax

%%------------------------------------------------------------------
%%  Helper commands
%%------------------------------------------------------------------
\def\eprc#1#2{\ifundef#1{\edef#1{#2}}{}}

%%------------------------------------------------------------------
%%  Set up font switching for Latin and Thai scripts
%%  Inspired by the package 'mweights'
%%------------------------------------------------------------------
% Font switching functions all should call this function first.
\newrobustcmd\fonttenth@setup{%
    % % Expand all macros
    \edef\encodingdefault@@v{\encodingdefault}%
    \edef\familydefault@@v{\familydefault}%
    \edef\rmdefault@@v{\rmdefault}%
    \edef\sfdefault@@v{\sfdefault}%
    \edef\ttdefault@@v{\ttdefault}%
    % % Set default letterform for each language
    \ifdefequal\familydefault@@v\sfdefault@@v{%
        \eprc\letterformdefault@en{sf}%
        \eprc\letterformdefault@th{sf}%
    }{\ifdefequal\familydefault@@v\ttdefault@@v{%
        \eprc\letterformdefault@en{tt}%
        \eprc\letterformdefault@th{tt}%
    }{% else
        \eprc\letterformdefault@en{rm}%
        \eprc\letterformdefault@th{rm}%
    }}%
    % % Set default font family for each language * letterform
    \eprc\familydefault@en@rm{\rmdefault@@v}%
    \eprc\familydefault@th@rm{kinnari}%
    \eprc\familydefault@en@sf{\sfdefault@@v}%
    \eprc\familydefault@th@sf{garuda}%
    \eprc\familydefault@en@tt{\ttdefault@@v}%
    \eprc\familydefault@th@tt{ttypist}%
    % % Set default font encoding for each language * letterform
    \eprc\encodingdefault@en@rm{\encodingdefault@@v}%
    \eprc\encodingdefault@th@rm{LTH}%
    \eprc\encodingdefault@en@sf{\encodingdefault@@v}%
    \eprc\encodingdefault@th@sf{LTH}%
    \eprc\encodingdefault@en@tt{\encodingdefault@@v}%
    \eprc\encodingdefault@th@tt{LTH}%
    %% Set anchor point if never introduced
    \eprc\language@@s{en}%
    \eprc\letterform@@s{\letterformdefault@en}%
}

% Invoke font selection after \langdefault@@s and \familydefault@@s are set.
\newrobustcmd\fonttenth@invoke{%
    \fontencoding{\csname encodingdefault@\language@@s @\letterform@@s\endcsname}%
    \fontfamily{\csname familydefault@\language@@s @\letterform@@s\endcsname}%
    \selectfont%
    \def\encodingdefault{\csname encodingdefault@\language@@s @\letterform@@s\endcsname}%
    \def\familydefault{\csname familydefault@\language@@s @\letterform@@s\endcsname}%
    \def\rmdefault{\csname familydefault@\language@@s @rm\endcsname}%
    \def\sfdefault{\csname familydefault@\language@@s @sf\endcsname}%
    \def\ttdefault{\csname familydefault@\language@@s @tt\endcsname}%
}

% Language switching commands
\newrobustcmd\fonttenth@setlanguage[1]{%
    \fonttenth@setup%
    \edef\language@@s{#1}%
    \ifbool{fonttenth@letterformreset}{%
        \edef\letterform@@s{\csname letterformdefault@\language@@s\endcsname}%
    }{}
    \fonttenth@invoke%
}
\renewrobustcmd\latintext{\fonttenth@setlanguage{en}}
\renewrobustcmd\thaitext{\fonttenth@setlanguage{th}}

% Letterform switching commands
\newrobustcmd\fonttenth@setletterform[1]{%
    \fonttenth@setup%
    \edef\letterform@@s{#1}%
    \fonttenth@invoke%
}
\renewrobustcmd\rmfamily{\fonttenth@setletterform{rm}}
\renewrobustcmd\sffamily{\fonttenth@setletterform{sf}}
\renewrobustcmd\ttfamily{\fonttenth@setletterform{tt}}

%%------------------------------------------------------------------
%%  Autoref translated names
%%------------------------------------------------------------------
% \babeltags{eng = english,tha = thai}%
\newrobustcmd\thaitext@part{%
    \thaiPhoSamphao\thaiSaraAa\thaiKhoKhwai\thaiThoThahan\thaiSaraIi%
    \thaiMaiEk}%
\newrobustcmd\thaitext@equation{%
    \thaiSoSua\thaiMoMa\thaiKoKai\thaiSaraAa\thaiRoRua%
    \thaiThoThahan\thaiSaraIi\thaiMaiEk}%
\newrobustcmd\thaitext@Item{%
    \thaiWoWaen\thaiRoRua\thaiRoRua\thaiKhoKhwai\thaiThoThahan%
    \thaiSaraIi\thaiMaiEk}%
\newrobustcmd\thaitext@section{%
    \thaiHoHip\thaiMaiHanakat\thaiWoWaen\thaiKhoKhai\thaiMaiTho%
    \thaiOAng\thaiThoThahan\thaiSaraIi\thaiMaiEk}%
\newrobustcmd\thaitext@subsection{%
    \thaiHoHip\thaiMaiHanakat\thaiWoWaen\thaiKhoKhai\thaiMaiTho%
    \thaiOAng\thaiYoYak\thaiMaiEk\thaiOAng\thaiYoYak%
    \thaiThoThahan\thaiSaraIi\thaiMaiEk}%
\newrobustcmd\thaitext@subsubsection{%
    \thaiHoHip\thaiMaiHanakat\thaiWoWaen\thaiKhoKhai\thaiMaiTho%
    \thaiOAng\thaiYoYak\thaiMaiEk\thaiOAng\thaiYoYak%
    \thaiThoThahan\thaiSaraIi\thaiMaiEk}%
\newrobustcmd\thaitext@paragraph{%
    \thaiYoYak\thaiMaiEk\thaiOAng\thaiHoHip\thaiNoNu\thaiMaiTho%
    \thaiSaraAa\thaiThoThahan\thaiSaraIi\thaiMaiEk}%
\newrobustcmd\thaitext@Hfootnote{%
    \thaiSaraE\thaiChoChang\thaiSaraI\thaiNgoNgu\thaiOAng%
    \thaiRoRua\thaiRoRua\thaiThoThung\thaiThoThahan\thaiSaraIi%
    \thaiMaiEk}%
\newrobustcmd\thaitext@AMS{%
    \thaiSoSua\thaiMoMa\thaiKoKai\thaiSaraAa\thaiRoRua%
    \thaiThoThahan\thaiSaraIi\thaiMaiEk}%
\newrobustcmd\thaitext@theorem{%
    \thaiThoThahan\thaiRu\thaiSoRusi\thaiDoChada\thaiSaraIi%
    \thaiBoBaimai\thaiThoThahan\thaiThoThahan\thaiSaraIi%
    \thaiMaiEk}%
\newrobustcmd\thaitext@lemma{%
    \thaiBoBaimai\thaiThoThahan\thaiToTao\thaiMaiHanakat%
    \thaiMaiTho\thaiNgoNgu\thaiThoThahan\thaiSaraIi\thaiMaiEk}%
\addto\captionsthai{%
    \def\partautorefname{\thaitext@part}%
    \def\equationautorefname{\thaitext@equation}%
    \def\Itemautorefname{\thaitext@Item}%
    \def\sectionautorefname{\thaitext@section}%
    \def\subsectionautorefname{\thaitext@subsection}%
    \def\subsubsectionautorefname{\thaitext@subsubsection}%
    \def\paragraphautorefname{\thaitext@paragraph}%
    \def\Hfootnoteautorefname{\thaitext@Hfootnote}%
    \def\AMSautorefname{\thaitext@AMS}%
    \def\theoremautorefname{\thaitext@theorem}%
    \def\lemmaautorefname{\thaitext@lemma}}%

\endinput
